---
description: "現代Cursor開發規範 - 2025年技術債務減少最佳實踐"
type: "Auto Attached"
pattern: "**/*.{js,ts,jsx,tsx,py,go,java,cpp,c,rs}"
version: "2.0.0"
author: "DevSecOps Team"
last_updated: "2025-06-16T11:22:50+08:00"
priority: "critical"
---

# 現代Cursor開發規範 (2025)

本規範基於國際最佳實踐標準，專為高度可維護性和技術債務減少而設計。

## 強制執行機制

### MCP Interactive Feedback 要求
每個開發決策都必須透過MCP Interactive Feedback機制進行驗證和優化。

### Context7技術文檔整合
所有技術實作決策必須基於Context7動態獲取的最新技術文檔，禁止使用過時的固定版本資訊。

## 程式碼品質標準

### 型別安全要求
- TypeScript專案必須啟用嚴格模式，禁用any型別
- Python專案必須實施完整的型別提示系統
- 所有公開介面必須具備明確的型別定義

### 複雜度控制
- 循環複雜度不得超過10
- 認知複雜度必須保持在15以下
- 函數行數限制為50行，類別限制為300行

### 錯誤處理規範
函數開頭必須使用guard clauses進行早期返回，避免深層巢狀結構。所有錯誤必須使用具體的錯誤類型，禁止通用的Exception處理。

## 測試要求

### 覆蓋率標準
- 整體測試覆蓋率必須達到80%以上
- 關鍵業務邏輯覆蓋率必須達到90%以上
- 新增程式碼覆蓋率必須達到85%以上

### 測試結構
所有測試檔案必須放置在專案根目錄的tests資料夾中，按照unit、integration、e2e、benchmarks的結構組織。

## 安全性要求

### 機密資訊管理
嚴禁在程式碼中硬編碼任何機密資訊，包括API金鑰、密碼、連接字串等敏感資料。

### 依賴管理
定期執行安全掃描，確保所有依賴套件沒有已知的高危漏洞。實施自動化依賴更新流程。

## 效能標準

### 回應時間要求
- API端點回應時間必須控制在200毫秒以內（P95）
- 資料庫查詢時間必須控制在100毫秒以內（P95）
- 前端首次內容繪製時間必須控制在2.5秒以內

### 資源使用
CPU使用率在正常負載下不得超過70%，記憶體使用率不得超過分配量的80%。

## 文檔要求

### API文檔
所有公開API必須具備完整的OpenAPI文檔，包括參數說明、回應格式和錯誤碼定義。

### 架構決策記錄
重要的技術決策必須記錄在ADR（Architecture Decision Record）中，包括決策背景、考慮選項和選擇理由。

## 版本控制規範

### 提交訊息格式
採用Conventional Commits格式，確保提交歷史清晰可追溯。

### 分支策略
實施GitFlow分支策略，確保代碼品質和發布流程的穩定性。

## 禁止事項

以下行為將導致程式碼審查失敗：

**程式碼品質違規**：提交包含console.log語句的生產程式碼、略過測試或品質檢查、使用已棄用的API或函式庫

**安全性違規**：硬編碼敏感資訊、使用不安全的加密演算法、忽略安全掃描警告

**流程違規**：直接推送到主分支、未完成的TODO註解、缺乏適當的程式碼審查

## 技術債務監控

### 自動化監控
系統將自動監控代碼複雜度、重複程度和可維護性指標，並在超出閾值時發出警告。

### 定期評估
每個Sprint結束時進行技術債務評估，確保債務比例不超過總開發工作量的15%。

---

本規範的執行情況將影響程式碼審查和專案評估結果。如有疑問，請參考最新的技術文檔或聯繫架構團隊。

建立時間：2025-06-16T11:22:50+08:00
適用專案：所有使用Cursor IDE的開發專案
下次檢視：2025-09-16
